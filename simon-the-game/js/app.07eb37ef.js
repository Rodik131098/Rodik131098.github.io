(function(e){function t(t){for(var s,i,u=t[0],o=t[1],l=t[2],d=0,f=[];d<u.length;d++)i=u[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);c&&c(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],s=!0,u=1;u<r.length;u++){var o=r[u];0!==n[o]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var s={},n={app:0},a=[];function i(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=s,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var c=o;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var s=r("85ec"),n=r.n(s);n.a},"196f":function(e,t,r){e.exports=r.p+"media/3.c1c96b44.mp3"},"3c6d":function(e,t,r){e.exports=r.p+"media/1.99e50f7d.mp3"},"3cf8":function(e,t,r){e.exports=r.p+"media/2.d2c4a2c4.mp3"},"56d7":function(e,t,r){"use strict";r.r(t),r.d(t,"eventBus",(function(){return b}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("h1",[e._v("Simon the game")]),r("div",{staticClass:"game"},[r("div",{staticClass:"game__circle"},e._l(e.quarters,(function(t){return r("Quarter",{key:t["id"],attrs:{params:t},nativeOn:{click:function(r){return e.clickQuarter(t["id"])}}})})),1),r("div",{staticClass:"game__control-elements"},[r("h2",[e._v("Round: "+e._s(e.series.length))]),r("div",{staticClass:"level"},[r("h3",[e._v("Level:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.currentLevel,expression:"currentLevel"}],staticClass:"level__select",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currentLevel=t.target.multiple?r:r[0]}}},e._l(e.levels,(function(t,s){return r("option",{key:s,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"button",on:{click:e.startGame}},[e._v("Start")]),r("p",{staticClass:"game__lose-massage"},[e._v(e._s(e.loseMessage))])])])])},a=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"quarter",class:{quarter__active:e.isActive},style:{backgroundColor:e.params.backgroundColor}})},u=[],o={name:"Quarter",props:{params:{type:Object}},data:function(){return{isActive:!1}},created:function(){var e=this,t=new Audio(this.params.soundPath);b.$on("turnQuarter",(function(r){e.params.id===r&&(e.isActive=!0,t.play(),t.addEventListener("ended",(function(){e.isActive=!1})))}))}},l=o,c=(r("bdbb"),r("2877")),d=Object(c["a"])(l,i,u,!1,null,null,null),f=d.exports,h=[{id:0,backgroundColor:"red",soundPath:r("3c6d")},{id:1,backgroundColor:"#FEEF33",soundPath:r("3cf8")},{id:2,backgroundColor:"blue",soundPath:r("196f")},{id:3,backgroundColor:"green",soundPath:r("78fc")}],p={name:"App",data:function(){return{quarters:h,userSeries:[],series:[],seriesId:null,gameStarted:!1,levels:["easy","normal","hard"],currentLevel:"easy",delay:null,loseMessage:""}},methods:{turnQuarter:function(e){this.gameStarted&&b.$emit("turnQuarter",e)},clickQuarter:function(e){if(this.gameStarted){if(null!==this.seriesId)return;this.turnQuarter(e),this.userSeries.push(e);var t=this.userSeries.length-1;if(this.series[t]!==this.userSeries[t])return this.loseMessage="You lost the game",void this.resetGame();this.series.length===this.userSeries.length&&(this.userSeries=[],this.setSeries(),this.runSeries())}},startGame:function(){this.gameStarted?(this.resetGame(),this.startGame()):(this.gameStarted=!0,this.loseMessage="",this.setDelay(),this.setSeries(),this.runSeries())},setDelay:function(){switch(this.currentLevel){case"easy":this.delay=1500;break;case"normal":this.delay=1e3;break;case"hard":this.delay=400;break;default:this.belay=1500}},setSeries:function(){var e=Math.floor(Math.random()*this.quarters.length);this.series.push(e)},runSeries:function(){var e=this,t=0;this.seriesId=setInterval((function(){e.turnQuarter(e.series[t]),t++,e.series.length<=t&&e.stopSeries()}),this.delay)},stopSeries:function(){clearInterval(this.seriesId),this.seriesId=null},resetGame:function(){this.stopSeries(),this.userSeries=[],this.series=[],this.gameStarted=!1}},components:{Quarter:f}},v=p,m=(r("034f"),Object(c["a"])(v,n,a,!1,null,null,null)),g=m.exports;s["a"].config.productionTip=!1;var b=new s["a"];new s["a"]({render:function(e){return e(g)}}).$mount("#app")},"78fc":function(e,t,r){e.exports=r.p+"media/4.36d5a722.mp3"},"85ec":function(e,t,r){},"943b":function(e,t,r){},bdbb:function(e,t,r){"use strict";var s=r("943b"),n=r.n(s);n.a}});
//# sourceMappingURL=app.07eb37ef.js.map